<!DOCTYPE html>
<html>

<body onresize="myFunction()">

  <div style="border:1px solid yellow;position:relative;">
    <p id="demo"></p>

    <video id="video" src="http://220.194.238.108/13/y/n/h/v/ynhvyjygldagccfkqyamcimcbfvfna/he.yinyuetai.com/4221016CD6D4CF13954172507B4C1387.mp4"
      style="width:100%; position: absolute; top: 50px;z-index: 1;" controls autoplay muted></video>


    <canvas id="c1" style="width: 100%; top: 50px;position: absolute;z-index:9;border:1px solid red;"></canvas>

  </div>
  <script>
    function myFunction() {
      var w = window.outerWidth;
      var h = window.outerHeight;
      var txt = "Window size: width=" + w + ", height=" + h;
      document.getElementById("demo").innerHTML = txt;

      console.log('video width')

      let videoClientWidth = document.getElementById("video").clientWidth
      let videoClientHeight = document.getElementById("video").clientHeight
      console.log('w: ' + videoClientWidth + ' h: ' + videoClientHeight)

      let canvas = document.getElementById('c1')
      canvas.width = videoClientWidth
      canvas.height = videoClientHeight
    }

    setTimeout(() => {
      let videoClientWidth = document.getElementById("video").clientWidth
      let videoClientHeight = document.getElementById("video").clientHeight
      console.log('w: ' + videoClientWidth + ' h: ' + videoClientHeight)

      let canvas = document.getElementById('c1')
      canvas.width = videoClientWidth
      canvas.height = videoClientHeight
    }, 50)
  </script>

</body>

</html>